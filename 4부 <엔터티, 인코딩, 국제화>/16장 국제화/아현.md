# 16. 국제화
## 16.1 국제적인 콘텐츠를 다루기 위해 필요한 HTTP 지원
서버는 클라이언트에게 문서의 문자와 언어를 HTTP Content-Type charset 매개변수와 Content-Language 헤더를 통해 알려줌
## 16.2 문자집합과 HTTP
### 16.2.1 차셋(Charset)은 글자를 비트로 변환하는 인코딩이다
HTTP Charset 값은 어떻게 엔터티 콘텐츠 비트들을 특정 문자 체계의 글자들로 바꾸는지 말해줌

각 차셋 태그는 글자들을 변환하거나 혹은 그 반대의 일을 해주는 알고리즘을 명명

차셋 태그는 등록된 MIME 문자집합에 표준화되어 있고, IANA가 관리

Content-Type 헤더는 수신자에게 콘텐츠가 HTML 파일임을 말해주고, charset 매개변수는 수신자에게 콘텐츠 비트들을 글자들로 디코딩하기 위해 iso-8859-6 아랍 문자집합 디코딩 기법을 사용하라고 말해줌

iso-8859-6 인코딩 구조는 8비트 값을 숫자와 구두점 그리고 다른 기호들을 포함한 라틴 문자와 아랍 문자로 매핑
### 16.2.2 문자집합과 인코딩은 어떻게 동작하는가
- 문서를 이루는 비트들이 특정 코딩된 문자집합의 특정 문자로 식별될 수 있는 문자 코드로 변환된다.
- 문자 코드는 코딩된 문자집합의 특정 요소를 선택하기 위해 사용된다.
### 16.2.3 잘못된 차셋은 잘못된 글자들을 낳는다
만약 클라이언트가 잘못된 charset 매개변수를 사용한다면, 클라이언트는 이상한 깨진 글자를 보여주게 됨
### 16.2.4 표준화된 MIME 차셋 값
MIME Charset: 특정 문자 인코딩과 특정 코딩된 문자집합의 결합
### 16.2.5 Content-Type charset 헤더와 META 태그
만약 문자 집합이 명시적으로 나열되지 않았다면, 수신자는 문서의 콘텐츠로부터 문자집합을 추측하려 시도

HTML에서 문자 집합은 문자 집합을 서술하는 `<META HTTP-EQUIV="Content-Type">` 태그에서 찾을 수 있음

문서가 HTML이 아니거나 META Content-Type 태그가 없다면, 소프트웨어는 언어와 인코딩에 대한 일반적인 패턴을 찾기 위해 실제 텍스트를 스캐닝하여 문자 인코딩을 추측
### 16.2.6 Accept-Charset 헤더
HTTP 클라이언트는 서버에게 정확히 어떤 문자 체계를 그들이 지원하는지 Accept-Charset 요청 헤더를 통해 알려줌

Accept-Charset 헤더의 값은 클라이언트가 지원하는 문자 인코딩의 목록을 제공
## 16.3 다중언어 문자 인코딩에 대한 지침
### 16.3.1 문자집합 용어
#### 문자
#### 글리프(glyph)
하나의 글자를 표현하기 위한, 획의 패턴이나 다른 것과 구분되는 유일한 시각적 형태
#### 코딩된 문자(coded character)
#### 코드 공간(coding space)
#### 코드 너비(code width)
#### 사용 가능 문자집합(character repertoire)
#### 코딩된 문자집합(coded charcter set)
#### 문자 인코딩 구조
### 16.3.2 '차셋(Charset)'은 형편없는 이름이다
사실 MIME Charset 태그는 문자집합을 의미하는 것이 아님. MIME Charset 값은 데이터 비트를 고유한 문자의 코드로 매핑하는 알고리즘의 이름
### 16.3.3 문자
### 16.3.4 글리프(glyphs), 연자(ligatures) 그리고 표현 형태
### 16.3.5 코딩된 문자집합(Coded Character Set)
#### US-ASCII: 모든 문자집합의 어머니
#### iso-8859
#### JIS X 0201
#### JIS X 0208과 JIS X 0212
#### UCS
### 16.3.6 문자 인코딩 구조
#### 고정폭
코정폭 인코딩은 각 코딩된 문자를 고정된 길이의 비트로 표현
#### 가변폭(비모달)
가변폭 인코딩은 다른 문자 코드 번호에 다른 길이의 비트를 사용

자주 사용하는 글자의 비트 길이를 줄일 수 있고, 국제 문자에 대해서는 여러 바이트를 사용하도록 함으로써 이전의 8비트 문자집합과의 호환성도 유지가능
#### 가변폭(모달)
모달 인코딩은 다른 모드로의 전환을 위해 특별한 'escape' 패턴을 사용
- 8비트
- UTF-8
- iso-2022-jp
- euc-jp
- euc-kr
## 16.4 언어 태그와 HTTP
### 16.4.1 Content-Language 헤더
엔터티가 어떤 언어 사용자를 대상으로 하고 잇는지 서술
### 16.4.2 Accept-Language 헤더
### 16.4.3 언어 태그의 종류
언어 태그는 RFC 3066 "Tags for the Identification of Languages"로 문서화된 표준화된 문법을 갖고 있음
### 16.4.4 서브태그
언어 태그는 하이픈으로 분리된 하나 이상의 서브태그로 이루어짐
- 첫 번째 서브태그는 주 서브태그, 이 값들은 표준화되어 있음
- 두 번째 서브태그는 선택적이고 자신만의 이름 표준을 따름
- 세 번째부터의 서브태그는 등록되어 있지 않음
### 16.4.5 대소문자의 구분 및 표현
모든 태그는 대소문자가 구분되지 않음

그러나 관용적으로 언어를 나타낼 때는 소문자를, 국가를 나타낼 때는 대문자를 사용
### 16.4.6 IANA 언어 태그 등록
### 16.4.7 첫 번째 서브태그: 이름공간
### 16.4.8 두 번째 서브태그: 이름공간
### 16.4.9 나머지 서브태그: 이름공간
### 16.4.10 선호 언어 설정하기
### 16.4.11 언어 태그 참조표
## 16.5 국제화된 URI
### 16.5.1 국제적 가독성 vs 의미 있는 문자들
URI 저자들이 리소스 식별자의 가독성과 공유 가능성의 보장이 대부분의 의미있는 문자들로 구성될 수 있도록 하는 것보다 더 중요하다고 여김

따라서 오늘날 ASCII 문자들의 제한된 집합으로 이루어진 URI를 갖게 됨
### 16.5.2 URI에서 사용될 수 있는 문자들
URI에서 사용할 수 있는 US-ASCII 문자들의 부분집합은 예약된 문자들, 예약되지 않은 문자들, 이스케이프 문자들로 나뉨

예약되지 않은 문자들은 그것들을 허용하는 URI의 어떤 구성요소에서든 일반적으로 사용될 수 있음
|문자 분류|사용 가능 문자집합|
|:--:|:--:|
|예약되지 않음|[A-Za-z0-9], "-", "_", ".", "!", "~", "*", "'", "(", ")"|
|예약됨| ";", "/", "?" ":", "@", "&", "=", "+", "$", ","|
|이스케이프|"%" <HEX> <HEX>|
### 16.5.3 이스케이핑과 역이스케이핑(unescaping)
URI 이스케이프는 예약된 문자나 다른 지원하지 않는 글자들을 안전하게 URI에 삽입할 수 있는 방법을 제공

이스케이프는 퍼센트 글자(%) 하나와 뒤이은 16진수 글자 둘로 이루어진 세 글자 문자열

16진수 두 글자는 US-ASCII 문자의 코드를 나타냄

### 16.5.4 국제 문자들을 이스케이핑하기
### 16.5.5 URI에서의 모달 전환
## 16.6 기타 고려사항
### 16.6.1 헤더와 명세에 맞지 않는 데이터
HTTP 헤더는 반드시 US-ASCII 문자집합의 글자들로만 이루어져야 한다
### 16.6.2 날짜
HTTP 명세는 올바른 GMT 날짜 형식을 명확히 정의하고 있지만 모든 웹 서버와 클라이언트가 규칙을 따르지 않고 있음에 주의하라
### 16.6.3 도메인 이름
오늘날 대부분의 웹브라우저가 유니코드 문자열을 호스트 명에서 사용 가능한 문자만으로 이루어진 문자열로 반환하는 방법인 퓨니코드(punycode)를 이용해 국제화 문자를 포함하는 도메인 이름인 '국제화 도메인 이름(Internationalizing Domain NAme)' 지원
## 16.7 추가 정보
### 16.7.1 부록
### 16.7.2 인터넷 국제화
### 16.7.3 국제 표준
